<div class="products-container">
  <div class="tabs">
    <button class="tab-button" (click)="showAddProduct = true">Add Product</button>
    <button class="tab-button" (click)="showAddProduct = false">View Products</button>
  </div>

  <div class="tab-content">
    <div *ngIf="showAddProduct">
      <h2>Add Product</h2>
      <form (ngSubmit)="onAddProduct()" #addProductForm="ngForm" enctype="multipart/form-data">
        <div class="form-group">
          <label for="images">Images</label>
          <input type="file" id="images" (change)="onFilesSelected($event)" name="images" multiple required>
          <div class="image-previews" *ngIf="imagePreviews.length">
            <div *ngFor="let image of imagePreviews">
              <img [src]="image" alt="Image Preview" width="100" height="100">
            </div>
          </div>
        </div>
        <div class="form-group">
          <label for="title">Title</label>
          <input type="text" id="title" name="title" [(ngModel)]="product.title" required>
        </div>
        <div class="form-group">
          <label for="category">Category</label>
          <input type="text" id="category" name="category" [(ngModel)]="product.category" required>
        </div>
        <div class="form-group">
          <label for="desc">Description</label>
          <input type="text" id="desc" name="desc" [(ngModel)]="product.description" required>
        </div>
        <div class="form-group">
          <label for="rating">Rating</label>
          <input type="number" id="rating" name="rating" [(ngModel)]="product.rating" required>
        </div>
        <div class="form-group">
          <label for="price">Price</label>
          <input type="text" id="price" name="price" [(ngModel)]="product.price" required>
        </div>
        <div class="form-group">
          <label for="originalPrice">Original Price</label>
          <input type="text" id="originalPrice" name="originalPrice" [(ngModel)]="product.originalPrice" required>
        </div>
        <button type="submit">Add Product</button>
      </form>
    </div>

    <div *ngIf="!showAddProduct">
      <h2>View Products</h2>
      <table>
        <thead>
          <tr>
            <th>Images</th>
            <th>Title</th>
            <th>Category</th>
            <th>Description</th>
            <th>Rating</th>
            <th>Price</th>
            <th>Original Price</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of products">
            <td>
              <div *ngFor="let image of product.images">
                <img [src]="image" alt="Product Image" width="50">
              </div>
            </td>
            <td>{{ product.title }}</td>
            <td>{{ product.category }}</td>
            <td>{{ product.description }}</td>
            <td>{{ product.rating }}</td>
            <td>{{ product.price }}</td>
            <td>{{ product.originalPrice }}</td>
            <td>
              <button (click)="onEditProduct(product)">Edit</button>
              <button (click)="onDeleteProduct(product._id)">Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
